# Bitrix24 Корпоративный портал

Репозиторий для разработки и доработки Bitrix24 корпоративного портала.

## Структура проекта

### Каталог `./local`
Все кастомные доработки, которые можно реализовать через штатные средства расширения функциональности Bitrix24 (компоненты, шаблоны, модули), размещаются в каталоге `./local`.

Подробное описание всех доработок в каталоге `./local` см. в файле [`local/README.md`](local/README.md).

### Доработки ядра Bitrix24

Иногда возникает необходимость внесения изменений в файлы ядра или модулей Bitrix24, которые невозможно реализовать через штатные средства расширения функциональности. Все такие доработки описываются ниже.

## Выполненные доработки ядра

### 1. Исправление работы enum полей в модуле задач

**Файл:** `bitrix/modules/tasks/lib/helper/filter.php`

**Проблема:** Пользовательские поля типа "Список" (enumeration) не работали корректно в модуле задач - фильтрация не работала, в списке показывались ID вместо текстовых значений.

**Решение:**
- Добавлен `'enumeration'` в список доступных типов (строка 1010)
- Реализовано преобразование `enumeration` → `'list'` для UI (строка 1026)  
- Добавлено автоматическое получение значений enum через `CUserFieldEnum::GetList` (строки 1042-1062)
- Исправлена логика фильтрации: enum поля используют точное совпадение по ID без префикса `%` (строки 380-388)

**Результат:** 
- ✅ Фильтрация enum полей работает корректно
- ✅ Универсальность - работает для всех enum полей автоматически  
- ✅ Эффективные SQL запросы с точным совпадением
- ✅ Корректное отображение в UI

## Примечания

При обновлении Bitrix24 необходимо проверить сохранность доработок ядра и при необходимости применить их повторно.