<? namespace Bitrix\Main;$GLOBALS['____650735223']= array(base64_decode(''.'Zm'.'lsZ'.'V9leGl'.'zdHM='),base64_decode('c3R'.'yd'.'G91cHBlcg'.'=='),base64_decode('bWQ1'),base64_decode('bWQ1'),base64_decode('aW5fYXJ'.'yYXk='),base64_decode('aW'.'5f'.'Y'.'XJ'.'y'.'YXk='),base64_decode(''.'aW5fYXJ'.'y'.'YXk'.'='),base64_decode('Z'.'GVm'.'aW5lZ'.'A=='),base64_decode(''.'ZGVmaW5lZA=='),base64_decode('ZGVmaW5l'.'ZA'.'='.'='),base64_decode('ZmlsZ'.'V9'.'l'.'e'.'Glz'.'dHM'.'='),base64_decode('ZmlsZV9l'.'eGlzdHM='),base64_decode('Zml'.'sZ'.'V9'.'leG'.'l'.'zdHM='),base64_decode('Zm'.'lsZV'.'9leGl'.'z'.'dH'.'M'.'='),base64_decode(''.'ZX'.'h'.'wb'.'G9'.'kZQ'.'=='));if(!function_exists(__NAMESPACE__.'\\___1775162181')){function ___1775162181($_1426020520){static $_1352215059= false; if($_1352215059 == false) $_1352215059=array('L2'.'JpdH'.'J'.'peC9'.'saWNlbnN'.'lX2tl'.'eS5waHA=','','','REVNTw'.'==',''.'REVNTw==','QklUUklY','TE'.'lDR'.'U5DRQ==','REVN'.'Tw==',''.'L2t'.'leV91cGRhdGUucGhwP'.'2'.'x'.'pY2Vuc'.'2V'.'fa2'.'V5PQ==','JnRvYm'.'Fza2V0P'.'X'.'kmbGFu'.'Zz0=','cnU=','a'.'3o=','Ynk'.'=','aHR0cHM6'.'Ly9kZXY'.'uMWM'.'t'.'Yml0'.'c'.'ml4Ln'.'J1L2xl'.'Y'.'XJu'.'aW'.'5nL2Nv'.'dXJzZ'.'S'.'9pb'.'mRl'.'eC5'.'waHA/Q09'.'V'.'UlNFX0lEP'.'TEzNSZMRVNT'.'T0'.'5fS'.'U'.'Q'.'9M'.'jU'.'3M'.'jA=','aHR0cHM6Ly90cmFpbmluZy'.'5i'.'aXRyaXgyNC5jb20vc'.'3Vw'.'c'.'G9ydC9'.'0cm'.'Fpb'.'mluZy9jb3V'.'yc'.'2'.'UvaW5kZXg'.'ucGhwP0N'.'PVVJTRV9JRD0xNzgmTEVT'.'U09OX0lEP'.'TI1OT'.'MyJ'.'kxF'.'U1N'.'P'.'Tl'.'9QQVR'.'IPTE'.'3NTIwLjE3NT'.'Y'.'yLjI1OTMwLj'.'I1O'.'TMy','c'.'nU=','Y'.'n'.'k'.'=','a3o=','Z'.'GU=',''.'ZXU'.'=','ZnI=','cGw=','aXQ=','dWs=','ZXU=',''.'Y2'.'9'.'t','ZW4=','REVNTw==','WQ==',''.'VElNRUxJTUlU'.'X0VE'.'SV'.'RJ'.'T04=','WQ==','R'.'U5DT'.'0RF','WQ==','U2l'.'0'.'ZUV4cG'.'l'.'y'.'ZURhdGU=','bWFpbg==','fnN1'.'cHBvc'.'nRf'.'Zmlu'.'aX'.'No'.'X2Rh'.'d'.'GU=','W'.'S1'.'tLWQ=','W'.'S1t'.'LWQ=','Yml0c'.'ml4'.'MjQ=','bWFp'.'bg==','flBBUk'.'FNX0NMSUVOV'.'F9'.'MQU5'.'H','aW50cmFu'.'ZXQ=','ZW4'.'=','cnU=','bW'.'Fp'.'bg==','dmVuZG'.'9y','dWFfYml0'.'c'.'ml'.'4X3Bv'.'c'.'nRhbA==','dWE=','Y'.'m'.'l0cm'.'l4'.'X3BvcnRhbA'.'==','Z'.'W'.'4=','MWNfYml0cml'.'4X3Bv'.'cnRh'.'bA==','cnU=','L2J'.'pd'.'HJpeC9'.'tb2R1bGVzL'.'2'.'1haW4vbGFuZ'.'y91YQ==','dWE=','L2Jpd'.'HJ'.'peC9tb2R1bGVz'.'L21'.'haW4vbGFuZy9ieQ==','Ynk=','L2JpdHJpeC9tb'.'2R1'.'b'.'G'.'VzL21h'.'aW4vbGF'.'uZ'.'y'.'9reg'.'==',''.'a3o=','L2Jpd'.'HJ'.'p'.'eC9tb2R'.'1bGV'.'zL'.'21'.'haW4vbGFuZy9yd'.'Q==','cnU=',''.'bWFpbg'.'='.'=','flBBUkFNX1BBUlRORVJfS'.'UQ=','b'.'WFpbg==','U'.'E'.'FSQ'.'U1fT'.'UFYX1'.'VTR'.'VJ'.'T','bWFpbg==','fkNP'.'V'.'U5UX'.'0VY'.'VFJ'.'B','Tg==','WQ'.'==','ZXh0cmFu'.'ZX'.'Q=','QU5E'.'IF'.'UuTEFTVF'.'9MT'.'0'.'dJ'.'Ti'.'A'.'+'.'IA==','QU'.'5EIF'.'UuTE'.'FTVF9'.'MT0dJT'.'i'.'BJUyBOT'.'1QgTlVMTA==','aW50'.'cmFuZXQ'.'=',''.'ZX'.'h0'.'cmF'.'uZXQ=','ZXh0cmF'.'uZX'.'RfZ3J'.'vdXA'.'=','bWFpbg==','fmxp'.'Y2Vuc2Vfbm'.'FtZ'.'Q'.'==','bWFp'.'bg='.'=','f'.'mxpY2'.'Vuc2VfY29kZXM=','','LA==');return base64_decode($_1352215059[$_1426020520]);}}; use Bitrix\Main\Config\Option; use Bitrix\Main\Type\Date; final class License{ private?string $_814896738= null; private const DOMAINS_STORE_LICENSE=[ 'ru' => 'https://util.1c-bitrix.ru', 'ua' => 'https://util.bitrix.ua', 'en' => 'https://util.bitrixsoft.com', 'kz' => 'https://util.1c-bitrix.kz', 'by' => 'https://util.1c-bitrix.by',]; public const URL_BUS_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_bus.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_bus.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_bus.pdf', 'ua' => 'https://www.bitrix.ua/download/law/eula_bus.pdf',]; public const URL_CP_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_cp.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_cp.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_cp.pdf', 'en' => 'https://www.bitrix24.com/eula/', 'br' => 'https://www.bitrix24.com.br/eula/', 'fr' => 'https://www.bitrix24.fr/eula/', 'pl' => 'https://www.bitrix24.pl/eula/', 'it' => 'https://www.bitrix24.it/eula/', 'la' => 'https://www.bitrix24.es/eula/',]; public const URL_RENEWAL_LICENSE=[ 'com' => 'https://store.bitrix24.com/profile/license-keys.php', 'eu' => 'https://store.bitrix24.eu/profile/license-keys.php', 'de' => 'https://store.bitrix24.de/profile/license-keys.php', 'ru' => 'https://www.1c-bitrix.ru/buy/products/b24.php#tab-section-2', 'by' => 'https://www.1c-bitrix.by/buy/products/b24.php#tab-section-2', 'kz' => 'https://www.1c-bitrix.kz/buy/products/b24.php#tab-section-2',]; public function getKey(): string{ if($this->_814896738 === null){ $_540348507= Loader::getDocumentRoot(). ___1775162181(0); $LICENSE_KEY= ___1775162181(1); if($GLOBALS['____650735223'][0]($_540348507)){ include($_540348507);} $this->_814896738=($LICENSE_KEY == ___1775162181(2) || $GLOBALS['____650735223'][1]($LICENSE_KEY) == ___1775162181(3)? ___1775162181(4): $LICENSE_KEY);} return $this->_814896738;} public function getHashLicenseKey(): string{ return $GLOBALS['____650735223'][2]($this->getKey());} public function getPublicHashKey(): string{ return $GLOBALS['____650735223'][3](___1775162181(5). $this->getKey(). ___1775162181(6));} public function isDemoKey(): bool{ return $this->getKey() == ___1775162181(7);} public function getBuyLink(): string{ return $this->getDomainStoreLicense(). ___1775162181(8). $this->getHashLicenseKey(). ___1775162181(9). LANGUAGE_ID;} public function getDocumentationLink(): string{ $_260969366= $this->getRegion(); if($GLOBALS['____650735223'][4]($_260969366,[___1775162181(10), ___1775162181(11), ___1775162181(12)])){ return ___1775162181(13);} return ___1775162181(14);} public function getRenewalLink(): string{ $_260969366= $this->getRegion(); if($GLOBALS['____650735223'][5]($_260969366,[___1775162181(15), ___1775162181(16), ___1775162181(17), ___1775162181(18)])){ return self::URL_RENEWAL_LICENSE[$_260969366];} if($GLOBALS['____650735223'][6]($_260969366,[___1775162181(19), ___1775162181(20), ___1775162181(21), ___1775162181(22), ___1775162181(23)])){ return self::URL_RENEWAL_LICENSE[___1775162181(24)];} return self::URL_RENEWAL_LICENSE[___1775162181(25)];} public function getDomainStoreLicense(): string{ return self::DOMAINS_STORE_LICENSE[$this->getRegion()] ?? self::DOMAINS_STORE_LICENSE[___1775162181(26)];} public function isDemo(): bool{ return $GLOBALS['____650735223'][7](___1775162181(27)) && DEMO === ___1775162181(28);} public function isTimeBound(): bool{ return $GLOBALS['____650735223'][8](___1775162181(29)) && TIMELIMIT_EDITION === ___1775162181(30);} public function isEncoded(): bool{ return $GLOBALS['____650735223'][9](___1775162181(31)) && ENCODE === ___1775162181(32);} public function getExpireDate():?Date{ $_162262054= (int)($GLOBALS[___1775162181(33)] ??(1132/2-566)); if($_162262054>(142*2-284)){ return Date::createFromTimestamp($_162262054);} return null;} public function getSupportExpireDate():?Date{ $_162262054= Option::get(___1775162181(34), ___1775162181(35)); if(Date::isCorrect($_162262054, ___1775162181(36))){ return new Date($_162262054, ___1775162181(37));} return null;} public function getRegion():?string{ if(Loader::includeModule(___1775162181(38))){ return \CBitrix24::getPortalZone();} $_260969366= Option::get(___1775162181(39), ___1775162181(40)); if(!empty($_260969366)){ return $_260969366;} $_260969366= $this->__987342100(); if(!empty($_260969366)){ return $_260969366;} return $this->__1447432942();} public function getEulaLink(): string{ if(ModuleManager::isModuleInstalled(___1775162181(41))){ return self::URL_CP_EULA[$this->getRegion()] ?? self::URL_CP_EULA[___1775162181(42)];} return self::URL_BUS_EULA[$this->getRegion()] ?? self::URL_BUS_EULA[___1775162181(43)];} private function __987342100():?string{ $_1733174083= Option::get(___1775162181(44), ___1775162181(45)); if($_1733174083 === ___1775162181(46)){ return ___1775162181(47);} if($_1733174083 === ___1775162181(48)){ return ___1775162181(49);} if($_1733174083 === ___1775162181(50)){ return ___1775162181(51);} return null;} private function __1447432942():?string{ $_1543441777= Application::getDocumentRoot(); if($GLOBALS['____650735223'][10]($_1543441777. ___1775162181(52))){ return ___1775162181(53);} if($GLOBALS['____650735223'][11]($_1543441777. ___1775162181(54))){ return ___1775162181(55);} if($GLOBALS['____650735223'][12]($_1543441777. ___1775162181(56))){ return ___1775162181(57);} if($GLOBALS['____650735223'][13]($_1543441777. ___1775162181(58))){ return ___1775162181(59);} return null;} public function getPartnerId(): int{ return (int)Option::get(___1775162181(60), ___1775162181(61),(1352/2-676));} public function getMaxUsers(): int{ return 100; } public function isExtraCountable(): bool{ return Option::get(___1775162181(64), ___1775162181(65), ___1775162181(66)) === ___1775162181(67) && ModuleManager::isModuleInstalled(___1775162181(68));} public function getActiveUsersCount(Date $_1657885055= null): int{ $_1486940712= Application::getConnection(); $_1354814407=(796-2*398); if($_1657885055 !== null){  $_1119111022= ___1775162181(69).$_1486940712->getSqlHelper()->convertToDbDate($_1657885055);} else{  $_1119111022= ___1775162181(70);} if(ModuleManager::isModuleInstalled(___1775162181(71))){ $_757885095="
				SELECT COUNT(DISTINCT U.ID)
				FROM
					b_user U
					INNER JOIN b_user_field F ON F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
					INNER JOIN b_utm_user UF ON
						UF.FIELD_ID = F.ID
						AND UF.VALUE_ID = U.ID
						AND UF.VALUE_INT > 0
				WHERE U.ACTIVE = 'Y'
					{$_1119111022}
			"; $_1354814407= (int)$_1486940712->queryScalar($_757885095); $_952859817= (int)Option::get(___1775162181(72), ___1775162181(73)); if($_952859817> min(186,0,62) && $this->isExtraCountable()){ $_757885095="
						SELECT COUNT(1)
						FROM
							b_user U
							INNER JOIN b_extranet_user EU ON EU.USER_ID = U.ID AND EU.CHARGEABLE = 'Y'
							INNER JOIN b_user_group UG ON UG.USER_ID = U.ID AND UG.GROUP_ID = {$_952859817}
							LEFT JOIN (
								SELECT UF.VALUE_ID 
								FROM 
									b_user_field F
									INNER JOIN b_utm_user UF ON UF.FIELD_ID = F.ID AND UF.VALUE_INT > 0
								WHERE F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
							) D ON D.VALUE_ID = U.ID
						WHERE U.ACTIVE = 'Y'
							{$_1119111022}
							AND D.VALUE_ID IS NULL
					"; $_1354814407 += (int)$_1486940712->queryScalar($_757885095);}} return $_1354814407;}  public function getName(): string{ return Option::get(___1775162181(74), ___1775162181(75));}  public function getCodes(): array{ $_1913119338= Option::get(___1775162181(76), ___1775162181(77)); if($_1913119338 != ___1775162181(78)){ return $GLOBALS['____650735223'][14](___1775162181(79), $_1913119338);} return[];}}?>